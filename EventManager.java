import model.Character;
import model.Event;

import java.util.List;
import java.util.Scanner;

/**
 * 事件管理器，处理事件节点的显示和选择
 */
public class EventManager {
    private final Scanner scanner = new Scanner(System.in);

    /**
     * 处理事件节点
     * @param event 事件实例
     * @param player 玩家角色
     */
    public void handleEvent(Event event, Character player) {
        if (event == null || player == null) return;

        System.out.println("\n===== 事件：" + event.getName() + " =====");
        System.out.println(event.getDescription());
        System.out.println("请选择：");

        // 显示选项
        List<Event.Option> options = event.getOptions();
        for (int i = 0; i < options.size(); i++) {
            System.out.println((i + 1) + ". " + options.get(i).getText());
        }

        // 获取玩家选择
        int choice = -1;
        while (choice < 1 || choice > options.size()) {
            System.out.print("输入选择 (1-" + options.size() + "): ");
            try {
                choice = Integer.parseInt(scanner.nextLine());
            } catch (NumberFormatException e) {
                System.out.println("请输入有效数字");
            }
        }

        // 执行选项
        event.executeOption(choice - 1, player);
    }

    /**
* 创建事件（示例）
     */
公共事件createSampleEvent(线eventID){createSampleEvent(线eventID){createSampleEvent(线eventID){createSampleEvent(线eventID){createSampleEvent(createSampleEvent(createSampleEvent(lineeventID){createSampleEvent(lineeventID){createSampleEvent(lineeventID){createSampleEvent(lineeventID){){createSampleEvent(lineeventID){createSampleEvent(lineeventID){createSampleEvent(lineeventID){){createSampleEvent(lineeventID){createSampleEvent(lineeventID){createSampleEvent(lineeventID){){createSampleEvent( lineeventID){createSampleEvent(lineeventID){createSampleEvent(lineeventID){
// 实际项目中可以从文件加载事件配置// 实际项目中可以从文件加载事件配置
开关(eventID){(eventID){(eventID){(eventID){(eventID){(eventID){(eventID){(eventID){(eventID){{(eventID){{(eventID){(eventID){(eventID){(eventID){(eventID){(eventID){{(eventID){{
案例"事件_1"："event_1"："事件_1"："event_1"："事件_1"："event_1"："事件_1"："event_1"：
返回新的事件("event_1"，"神秘祭坛"，("event_1"，"神秘祭坛"，("event_1"，"神秘祭坛"，("event_1"，"神秘祭坛"，("event_1"，"神秘祭坛"，("event_1"，"神秘祭坛"，("event_1"，"神秘祭坛"，("event_1"，"神秘祭坛"，
"你发现了一个古老的祭坛，散发着神秘能量""你发现了一个古老的祭坛，散发着神秘能量""你发现了一个古老的祭坛，散发着神秘能量""你发现了一个古老的祭坛， 散发着神秘能量""你发现了一个古老的祭坛，散发着神秘能量""你发现了一个古老的祭坛，散发着神秘能量""你发现了一个古老的祭坛，散发着神秘能量""你发现了一个古老的祭坛， 散发着神秘能量""你发现了一个古老的祭坛，散发着神秘能量""你发现了一个古老的祭坛，散发着神秘能量""你发现了一个古老的祭坛，散发着神秘能量""你发现了一个古老的祭坛， 散发着神秘能量""你发现了一个古老的祭坛，散发着神秘能量""你发现了一个古老的祭坛，散发着神秘能量""你发现了一个古老的祭坛，散发着神秘能量""你发现了一个古老的祭坛， 散发着神秘能量","你发现了一个古老的祭坛，散发着神秘能量","你发现了一个古老的祭坛，散发着神秘能量","你发现了一个古老的祭坛，散发着神秘能量", "你发现了一个古老的祭坛，散发着神秘能量","你发现了一个古老的祭坛，散发着神秘能量","你发现了一个古老的祭坛，散发着神秘能量","你发现了一个古老的祭坛， 散发着神秘能量","你发现了一个古老的祭坛，散发着神秘能量","你发现了一个古老的祭坛，散发着神秘能量","你发现了一个古老的祭坛，散发着神秘能量", "你发现了一个古老的祭坛，散发着神秘能量", "你发现了一个古老的祭坛，散发着神秘能量","你发现了一个古老的祭坛，散发着神秘能量","你发现了一个古老的祭坛， 散发着神秘能量","你发现了一个古老的祭坛，散发着神秘能量","你发现了一个古
列表。…… 的((((((((
新的 事件.选项("触摸祭坛", "你感到力量涌遍全身",("触摸祭坛", "你感到力量涌遍全身",("触摸祭坛", "你感到力量涌遍全身", ("触摸祭坛", "你感到力量涌遍全身",("触摸祭坛", "你感到力量涌遍全身",("触摸祭坛", "你感到力量涌遍全身",("触摸祭坛", "你感到力量涌遍全身",("触摸祭坛", "你感到力量涌遍全身",
无效的,0, 2, 0),0, 2, 0),0, 2, 0),0, 2, 0),0, 2, 0),0, 2, 0),0, 2, 0),0, 2, 0),
新的 事件.选项("忽略离开", "你继续你的旅程",("忽略离开", "你继续你的旅程",("忽略离开", "你继续你的旅程",("忽略离开", "你继续你的旅程",("忽略离开", "你继续你的旅程",("忽略离开", "你继续你的旅程",("忽略离开", "你继续你的旅程",("忽略离开", "你继续你的旅程",
无效的,0, 0, 0)0, 0, 0)0, 0, 0)0, 0, 0)0, 0, 0)0, 0, 0)0, 0, 0)0, 0, 0)
));));
案例"event_2"："event_2"："event_2"："event_2"："event_2"："event_2"："event_2"：
返回新的事件("event_2"，"受伤的旅行者"，("event_2"，"受伤的旅行者"，("event_2"，"受伤的旅行者"，("event_2"，"受伤的旅行者"，("event_2"，"受伤的旅行者"，("event_2"，"受伤的旅行者"，("event_2"，"受伤的旅行者"，("event_2"，"受伤的旅行者"，
"一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助""一个受 伤的旅行者请求你的帮助""一个受伤的旅行者请求你的帮助", "一个受伤的旅行者请求你的帮助", "一个受伤的旅行者请求你的帮助","一个受伤的旅行者请求你的帮助","一个受伤的旅行者请求你的帮助", "一个受伤的旅行者请求你的帮助","一个受伤的旅行者请求你的帮助","一个受伤的旅行者请求你的帮助","一个受伤的旅行者请求你的帮助","一个受伤的旅行者请求你的帮助", "一个受伤的旅行者请求你的帮助","一个受伤的旅行者请求你的帮助","一个受伤的旅行者请求你的帮助","一个受伤的旅行者请求你的帮助","一个受伤的旅行者请求你的帮助","一个受伤的旅行者请求你的帮助","一个受伤的旅行者请求你的帮助",
列表。…… 的((((((((
新的 事件.选项("给予治疗", "你用自己的药草治疗了他",("给予治疗", "你用自己的药草治疗了他",("给予治疗", "你用自己的药草治疗了他", ("给予治疗", "你用自己的药草治疗了他",("给予治疗", "你用自己的药草治疗了他",("给予治疗", "你用自己的药草治疗了他",("给予治疗", "你用自己的药草治疗了他",("给予治疗", "你用自己的药草治疗了他",
无效的, -10, 0, 1),10, 0, 1),10, 0, 1),10, 0, 1),10, 0, 1),10, 0, 1),10, 0, 1),10, 0, 1),
新的 事件.选项("继续前进", "你没有停下脚步",("继续前进", "你没有停下脚步",("继续前进", "你没有停下脚步",("继续前进", "你没有停下脚步",("继续前进", "你没有停下脚步",("继续前进", "你没有停下脚步",("继续前进", "你没有停下脚步",("继续前进", "你没有停下脚步",
无效的,0, 0, 0)0, 0, 0)0, 0, 0)0, 0, 0)
));));
默认:
返回 新的 事件("默认", "神秘事件",("默认", "神秘事件",("默认", "神秘事件",("默认", "神秘事件",
"发生了一些奇怪的事情...""发生了一些奇怪的事情...""发生了一些奇怪的事情...""发生了一些奇怪的事情...","发生了一些奇怪的事情...","发生了一些奇怪的事情...","发生了一些奇怪的事情...","发生了一些奇怪的事情...",
列表。……的(((((
新的 事件.选项("调查", "没有特别的事情发生",("调查", "没有特别的事情发生",("调查", "没有特别的事情发生",("调查", "没有特别的事情发生",
无效的,0, 0, 0),0, 0, 0),0, 0, 0),0, 0, 00, 0, 0),
新的 事件.选项"你继续前进""离开","你继续前进""离开""离开","你继续前进","你继续前进",("离开", "你继续前进",("离开", "你继续前进"你继续前进"离开", ""离开",",
无效的,0, 0, 0)
                        ));
        }
    }
                                                                                                                                                        }
